<!--pages/hotel/dishes/add_dishes.wxml-->
<wxs src="../../../app.wxs" module="app"></wxs>

<scroll-view class='container theme-container' scroll-y="true" scroll-with-animation="true">
	<form bindsubmit="addDishes">
		<view class="goods-info flex_column_center theme7">
			<view class="row flex_row_flexStart_spaceBetween">
				<view class="lable flex_row_center_spaceBetween theme-font1">菜品名</view>
				<textarea class="input" placeholder="请输入菜品名称" name="name" maxlength="50"></textarea>
			</view>
			<view class="row flex_row_flexStart_spaceBetween">
				<view class="lable flex_row_center_spaceBetween theme-font1">价格</view>
				<input class="input" type='digit' placeholder="请输入菜品价格" name='price' bindinput='setTotalCount'></input>
			</view>
      <!-- <view class="row flex_row_flexStart_spaceBetween">
				<view class="lable flex_row_center_spaceBetween theme-font1">是否支持全国售卖</view>
				<radio-group class="radio-group" bindchange="changeSale">
            
          <radio value="1" checked="{{is_sale==1?true:false}}">是</radio>
          <radio value="0" checked="{{is_sale==0?true:false}}">否</radio>
        </radio-group>
			</view> -->
			<view class="row flex_row_flexStart_spaceBetween">
				<view class="lable flex_row_center_spaceBetween theme-font1">全国售卖</view>
				<view class="input" style="border:none;">
					<switch checked="{{is_sale==1?true:false}}"  bindchange="changeSale"/>
				</view>
			</view>
			<view class="pic_row two_pic_rows flex_row_flexStart_spaceBetween">
				 <view class="lable flex_column_flexStart theme-font1">
					<p>菜品图</p>
					<!-- <p style="font-size:24rpx">(长按对调图片位置)</p> -->
				</view>
				<view class="wapper">
					<block wx:for="{{dish_img_list}}" wx:for-item="bean" wx:key="key" wx:for-index="index">
					<view class="cell flex_column_center_center">
						<view  class="image-waper flex_column_center_center">
							<view class="del-pic flex_column_flexEnd" bindtap="delPic" data-keys="{{index}}" data-type="1">
								<view class="fa fa-times-circle theme-font7" aria-hidden="true"></view>
							</view>
							<image mode="aspectFill" src="{{oss_url}}{{bean}}" bindtap="uploadOneDishesPic" data-keys="{{index}}" data-type="1"></image>
						</view> 
					</view>
					<view class="cell flex_column_center_center" wx:if="{{index+1==dish_img_list.length && dish_img_list.length<6}}">
						<view class="image-waper flex_column_center_center">
							<button class="fa fa-plus" aria-hidden="true" bindtap="uploadDishesPic" data-type="1" disabled="{{upDisabled}}"></button>
						</view>
					</view>
					</block>
					<view class="cell flex_column_center_center" wx:if="{{dish_img_list.length<1}}">
						<view class="image-waper flex_column_center_center" >
							<button class="fa fa-plus" aria-hidden="true" bindtap="uploadDishesPic" data-type="1" disabled="{{upDisabled}}"></button>
						</view>
					</view>
				</view>
				
			</view>
			<view class="row flex_row_flexStart_spaceBetween">
				<view class="lable flex_row_center_spaceBetween theme-font1">菜品介绍</view>
				<view class="wapper flex_column_center">
					<textarea class="input" placeholder="请输入菜品介绍" name="intro" maxlength="300"></textarea>
					<!--
					<view>
						<view class="fa fa-camera theme-font7" aria-hidden="true"></view>
					</view>
					-->
				</view>
			</view>
			<view class="pic_row two_pic_rows flex_row_flexStart_spaceBetween">
				<view class="lable flex_column_flexStart theme-font1">
					<p>详情图片</p>
					<!-- <p style="font-size:24rpx">(长按对调图片位置)</p> -->
				</view>
				<view class="wapper">
					<block wx:for="{{dish_intro_img_list}}" wx:for-item="bean" wx:key="key" wx:for-index="index">
					<view class="cell flex_column_center_center">
						<view  class="image-waper flex_column_center_center">
							<view class="del-pic flex_column_flexEnd" bindtap="delPic" data-keys="{{index}}" data-type="2">
								<view class="fa fa-times-circle theme-font7" aria-hidden="true"></view>
							</view>
							<image mode="aspectFill" src="{{oss_url}}{{bean}}" bindtap="uploadOneDishesPic" data-keys="{{index}}" data-type="2"></image>
						</view> 
					</view>
					<view class="cell flex_column_center_center" wx:if="{{index+1==dish_intro_img_list.length&&dish_intro_img_list.length<6}}">
						<view  class="image-waper flex_column_center_center"  >
							<button class="fa fa-plus" aria-hidden="true" bindtap="uploadDishesPic" data-type="2" disabled="{{upDisabled}}"></button>
						</view>
					</view>
					</block>
					<view class="cell flex_column_center_center" wx:if="{{dish_intro_img_list.length<1}}">
						<view  class="image-waper flex_column_center_center"  >
							<button class="fa fa-plus" aria-hidden="true" bindtap="uploadDishesPic" data-type="2" disabled="{{upDisabled}}"></button>
						</view>
					</view>
				</view>
				
			</view>
		</view>
		

		<button class="btn save theme-button-welcome" form-type="submit" disabled="{{addDisabled}}">保存</button>
	</form>
</scroll-view>